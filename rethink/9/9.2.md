## 指数加权平均
在加权平均的基础上，老的数据的权重按照指数衰减。

初始数据：
| 日期   | 金额 |
| ------ | ---- |
| 第一天 | 100  |
| 第二天 | 114  |
| 第三天 | 118  |
| 第四天 | 117  |
| 第五天 | 120  |
| 第六天 | 122  |
| 第七天 | ？   |

每天指数加权平均的值用V<sub>i</sub>来表示，每天实际收入为$\theta$<sub>i</sub>表示。首先设置初始条件，V<sub>0</sub> = 0，$\beta$ = 0.7。其中$\beta$是一个超参数，它越小，越老的数据，权重衰减的越厉害，在最终预测结果里占的比重越小。

- V<sub>1</sub> = $\beta$V<sub>0</sub> + (1 - $\beta$)$\theta$<sub>1</sub>
- V2 = $\beta$V<sub>1</sub> + (1 - $\beta$)$\theta$<sub>2</sub>
- V3 = $\beta$V<sub>2</sub> + (1 - $\beta$)$\theta$<sub>3</sub>

可以用前三天的指数加权平均值来预测第四天的收入（即V3是第四天收入的预测）

| 日期   | $\theta$ | V      |
| ------ | -------- | ------ |
| 第一天 | 100      | 30     |
| 第二天 | 114      | 55.2   |
| 第三天 | 118      | 74.04  |
| 第四天 | 117      | 86.9   |
| 第五天 | 120      | 96.83  |
| 第六天 | 122      | 104.38 |

初始值V<sub>0</sub> = 0，导致实际预测和真实插入较多，但随着序列增长，V<sub>0</sub>对预测值的影响会越来越小，结果自然得到修正。但对于==较短的序列==，V<sub>0</sub>对预测值的影响较大，可以通过对V进行修正。在计算完V后，让它除以1-$\beta$<sup>t</sup>。t表示第几天。

- V<sub>0</sub> = 0
- V<sub>t<sub> = $\beta$V<sub>t-1</sub> + (1 - $\beta$)$\theta$<sub>t</sub>
- V<sub>t</sub><sup>correct</sup> = $\frac{V_t}{1-\beta^t}$

| 日期   | $\beta$ | V      | 1 - $\beta^t$ | $V_t^{correct}$ |
| ------ | ------- | ------ | ------------- | --------------- |
| 第一天 | 100     | 30     | 0.3           | 100             |
| 第二天 | 114     | 55.2   | 0.51          | 108.2           |
| 第三天 | 118     | 74.04  | 0.657         | 112.6           |
| 第四天 | 117     | 86.9   | 0.76          | 114.3           |
| 第五天 | 120     | 96.83  | 0.832         | 116             |
| 第六天 | 122     | 104.38 | 0.942         | 110.8           |

经过修正后V值更准确了，1-${\beta}^t$逐渐接近于1，修正效果越来越小



